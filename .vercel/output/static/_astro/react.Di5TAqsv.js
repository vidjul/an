import{r}from"./index.WFquGv8Z.js";var s={},c="@vercel/speed-insights",u="1.3.1",o=()=>{window.si||(window.si=function(...i){(window.siq=window.siq||[]).push(i)})};function f(){return typeof window<"u"}function l(){try{const e="production"}catch{}return"production"}function a(){return l()==="development"}function v(e){return e.scriptSrc?e.scriptSrc:a()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function h(e={}){var i;if(!f()||e.route===null)return null;o();const n=v(e);if(document.head.querySelector(`script[src*="${n}"]`))return null;e.beforeSend&&((i=window.si)==null||i.call(window,"beforeSend",e.beforeSend));const t=document.createElement("script");return t.src=n,t.defer=!0,t.dataset.sdkn=c+(e.framework?`/${e.framework}`:""),t.dataset.sdkv=u,e.sampleRate&&(t.dataset.sampleRate=e.sampleRate.toString()),e.route&&(t.dataset.route=e.route),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(t.dataset.dsn=e.dsn),a()&&e.debug===!1&&(t.dataset.debug="false"),t.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(t),{setRoute:d=>{t.dataset.route=d??void 0}}}function w(){if(!(typeof process>"u"||typeof s>"u"))return s.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function S(e){r.useEffect(()=>{var n;e.beforeSend&&((n=window.si)==null||n.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);const i=r.useRef(null);return r.useEffect(()=>{if(i.current)e.route&&i.current(e.route);else{const n=h({framework:e.framework??"react",basePath:e.basePath??w(),...e});n&&(i.current=n.setRoute)}},[e.route]),null}export{S as SpeedInsights};
